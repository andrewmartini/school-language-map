{"name":"School-language-map","tagline":"","body":"<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <title>\r\n            TESTING | DOE Language by School Zone \r\n        </title>\r\n \r\n        <meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" />\r\n        <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" />\r\n \r\n        <link rel=\"shortcut icon\" href=\"http://cartodb.com/assets/favicon.ico\" />\r\n \r\n        <link rel=\"stylesheet\" href=\"http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css\" type=\"text/css\" /> \r\n \r\n        <link rel=\"stylesheet\" href=\"http://academy.cartodb.com/css/cdbui.css\" type=\"text/css\" />\r\n \r\n        <link rel=\"stylesheet\" href=\"//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css\">\r\n\r\n        <link rel=\"stylesheet\" href=\"/resources/demos/style.css\">\r\n\r\n        <style type=\"text/css\">\r\n            html, body, #map {\r\n                height: 100%;\r\n                padding: 0;\r\n                margin: 0;\r\n            }\r\n            #cartocss {\r\n                position: absolute;\r\n                top: 5px;\r\n                right: 5px;\r\n            }\r\n            #sql {\r\n                position: absolute;\r\n                bottom: 25px;\r\n                right: 5px;\r\n            }\r\n\r\n            .layer_selector {\r\n                background: rgba(255,255,255,0.9);\r\n                border-radius: 5px;\r\n                padding: 0;\r\n                border: 2px solid #999;\r\n                width: 220px;\r\n            }\r\n            \r\n            .layer_selector > p {\r\n                padding: 5px 5px;\r\n                border-bottom: 1px solid #999;\r\n            }\r\n            \r\n            .layer_selector ul {\r\n                padding: 0; margin: 0;\r\n                list-style-type: none;\r\n            }\r\n            .layer_selector li {\r\n                padding: 3px 5px;\r\n                font-family: Helvetica, Arial, sans-serif;\r\n                font-size: 13px;\r\n                line-height: 120%;\r\n                color: #444;\r\n                cursor: pointer;\r\n            }\r\n            .layer_selector li:not(:last-child) {\r\n                border-bottom: 1px solid #999;\r\n            }\r\n            .layer_selector li:hover {\r\n                background-color: #F0F0F0;\r\n                cursor: pointer;\r\n            }\r\n            .layer_selector li.sql_selected,\r\n            .layer_selector li.cartocss_selected {\r\n                background-color: #A6CEE3;\r\n            }\r\n\r\n            </style>\r\n \r\n            <style type=\"text/css\">\r\n            .my-legend {\r\n              position: absolute;\r\n              top: 70px;\r\n              left: 10px;\r\n            }\r\n            \r\n            .my-legend {\r\n              background: rgba(255,255,255,0.9);\r\n              border-radius: 5px;\r\n              padding: 2px;\r\n              border: 2px solid #999;\r\n              width: 230px;\r\n              }\r\n\r\n            .my-legend .legend-title {\r\n              text-align: left;\r\n              margin-bottom: 3px;\r\n              font-weight: bold;\r\n              font-size: 90%;\r\n              }\r\n            .my-legend .legend-scale ul {\r\n              margin: 0;\r\n              margin-bottom: 1px;\r\n              padding: 0;\r\n              float: left;\r\n              list-style: none;\r\n              }\r\n            .my-legend .legend-scale ul li {\r\n              font-size: 75%;\r\n              list-style: none;\r\n              margin-left: 0px;\r\n              margin-right: 0px;\r\n              line-height: 13px;\r\n              margin-bottom: 1px;\r\n              }\r\n            .my-legend ul.legend-labels li span {\r\n              display: block;\r\n              float: left;\r\n              height: 11px;\r\n              width: 14px;\r\n              margin-right: 2px;\r\n              margin-left: 4px;\r\n              border: 1px solid #000;\r\n              }\r\n            .my-legend a {\r\n              color: #777;\r\n              }\r\n          </style>\r\n\r\n            <style type=\"cartocss/html\" id=\"simple\">\r\n            /** simple visualization */\r\n            #schlang_merge_05_04{\r\n                polygon-fill: #6b675b;\r\n                polygon-opacity: 0.5;\r\n                line-color: #ffffff;\r\n                line-width: 1;\r\n                line-opacity: 1;\r\n            }   \r\n            </style>\r\n \r\n            <style type=\"cartocss/html\" id=\"_plura\">\r\n\r\n            /** language group color for _plura polygon fill */\r\n            #schlang_merge_05_04 {\r\n               polygon-opacity: 0.7;\r\n               line-color: #FFF;\r\n               line-width: 1;\r\n               line-opacity: 1;\r\n            }\r\n\r\n            #schlang_merge_05_04[_plura_grp=\"French Creoles\"] {\r\n               polygon-fill: #A53ED5;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Indo-European: Balto-Slavic\"] {\r\n               polygon-fill: #0000a0;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Indo-European: Romance\"] {\r\n               polygon-fill: #5CA2D1;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Indo-European: Germanic\"] {\r\n               polygon-fill: #cccccc;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Indo-European: Other\"] {\r\n               polygon-fill: #00ceff;  \r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Uralic\"] {\r\n               polygon-fill: #00ceff;\r\n            }\r\n\r\n            #schlang_merge_05_04[_plura_grp=\"Sino-Tibetan: Chinese\"] {\r\n               polygon-fill: #ff0000;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"South Asian\"] {\r\n               polygon-fill: #ffa500;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"E & SE Asia: other\"] {\r\n               polygon-fill: #fb9a99;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Austronesian: Malayo-Polynesian\"] {\r\n               polygon-fill: #fb9a99;\r\n            }\r\n\r\n            #schlang_merge_05_04[_plura_grp=\"Afro-Asiatic: Semitic\"] {\r\n               polygon-fill: #49db40;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Niger-Congo: Atlantic-Congo\"] {\r\n               polygon-fill: #136400;\r\n            }\r\n            #schlang_merge_05_04[_plura_grp=\"Niger-Congo: Mande\"] {\r\n               polygon-fill: #229A00;\r\n            }\r\n\r\n            #schlang_merge_05_04 {\r\n               polygon-fill: #DDDDDD;\r\n            }   \r\n\r\n            /** language labels for _plura */\r\n            #schlang_merge_05_04::labels [zoom >= 12] {\r\n              text-name: [_plura];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 10;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #000;\r\n              text-halo-fill: #FFF;\r\n              text-halo-radius: 1;\r\n              text-dy: 0;\r\n              text-allow-overlap: false;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13]  {\r\n              text-name: [_plura]+\" \"+[_plura_qt];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 11;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] {\r\n              text-name: [_plura]+\" \"+[_plura_qt];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 13;\r\n            }\r\n\r\n            </style>  \r\n \r\n             <style type=\"cartocss/html\" id=\"_plurne_grp\">\r\n\r\n            /** language group color for _plurne_ polygon fill */\r\n            #schlang_merge_05_04 {\r\n               polygon-opacity: 0.7;\r\n               line-color: #FFF;\r\n               line-width: 1;\r\n               line-opacity: 1;\r\n            }\r\n\r\n            #schlang_merge_05_04[_plurne_grp=\"French Creoles\"] {\r\n               polygon-fill: #A53ED5;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Indo-European: Balto-Slavic\"]  {\r\n               polygon-fill: #0000a0;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Indo-European: Romance\"]  {\r\n               polygon-fill: #5CA2D1;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Indo-European: Germanic\"]  {\r\n               polygon-fill: #cccccc;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Indo-European: Other\"]  { \r\n               polygon-fill: #00ceff;  \r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Uralic\"]  {\r\n               polygon-fill: #00ceff;\r\n            }\r\n\r\n            #schlang_merge_05_04[_plurne_grp=\"Sino-Tibetan: Chinese\"]  {\r\n               polygon-fill: #ff0000;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"South Asian\"]  {\r\n               polygon-fill: #ffa500;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"E & SE Asia: other\"] {\r\n               polygon-fill: #fb9a99;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Austronesian: Malayo-Polynesian\"]  {\r\n               polygon-fill: #fb9a99;\r\n            }\r\n\r\n            #schlang_merge_05_04[_plurne_grp=\"Afro-Asiatic: Semitic\"]  {\r\n               polygon-fill: #49db40;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Niger-Congo: Atlantic-Congo\"] {\r\n               polygon-fill: #136400;\r\n            }\r\n            #schlang_merge_05_04[_plurne_grp=\"Niger-Congo: Mande\"] {\r\n               polygon-fill: #229A00;\r\n            }\r\n\r\n            #schlang_merge_05_04 {\r\n               polygon-fill: #DDDDDD;\r\n            }   \r\n\r\n            /** language labels for _plurne */\r\n            #schlang_merge_05_04::labels [zoom >= 12] {\r\n              text-name: [_plurne];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 10;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #000;\r\n              text-halo-fill: #FFF;\r\n              text-halo-radius: 1;\r\n              text-dy: 0;\r\n              text-allow-overlap: false;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] {\r\n              text-name: [_plurne]+\" \"+[_plurne_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 11;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] {\r\n              text-name: [_plurne]+\" \"+[_plurne_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 13;\r\n            }\r\n            #schlang_poly_v3_1::labels [_plurne_qty <= 9]{\r\n              text-name: [_plurne];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 0;\r\n              text-fill: #fff;\r\n              text-halo-radius: 0;\r\n            }\r\n\r\n            </style> \r\n \r\n          <style type=\"cartocss/html\" id=\"_plurnes_gr\">\r\n          /** plurnes visualization */\r\n\r\n          #schlang_merge_05_04 {\r\n             polygon-opacity: 0.7;\r\n             line-color: #FFF;\r\n             line-width: 1;\r\n             line-opacity: 1;\r\n          }\r\n\r\n          /** language group polygon fill */\r\n          #schlang_merge_05_04[_plurnes_gr=\"Sino-Tibetan: Chinese\"] {\r\n             polygon-fill: #ff0000;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"South Asian\"] {\r\n             polygon-fill: #ffa500;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"E & SE Asia: other\"] {\r\n             polygon-fill: #fb9a99;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Austronesian: Malayo-Polynesian\"] {\r\n             polygon-fill: #fb9a99;\r\n          }\r\n\r\n\r\n          #schlang_merge_05_04[_plurnes_gr=\"Afro-Asiatic: Semitic\"] {\r\n             polygon-fill: #49db40;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Niger-Congo: Atlantic-Congo\"] {\r\n             polygon-fill: #136400;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Niger-Congo: Mande\"] {\r\n             polygon-fill: #229A00;\r\n          }\r\n\r\n          #schlang_merge_05_04[_plurnes_gr=\"French Creoles\"] {\r\n             polygon-fill: #A53ED5;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Indo-European: Balto-Slavic\"] {\r\n             polygon-fill: #0000a0;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Indo-European: Romance\"] {\r\n             polygon-fill: #5CA2D1;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Indo-European: Germanic\"] {\r\n             polygon-fill: #5CA2D1;\r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Indo-European: Other\"] {\r\n             polygon-fill: #00ceff; \r\n          }\r\n          #schlang_merge_05_04[_plurnes_gr=\"Uralic\"] {\r\n             polygon-fill: #00ceff;\r\n          }\r\n\r\n          #schlang_merge_05_04 {\r\n             polygon-fill: #DDDDDD;\r\n          }\r\n\r\n          /** language labels for plurnes */\r\n          #schlang_merge_05_04::labels [zoom >= 12] {\r\n            text-name: [_plurnes];\r\n            text-face-name: 'Lato Bold';\r\n            text-size: 10;\r\n            text-wrap-before: true;\r\n            text-wrap-width: 20;\r\n            text-label-position-tolerance: 10;\r\n            text-fill: #000;\r\n            text-halo-fill: #FFF;\r\n            text-halo-radius: 1;\r\n            text-dy: 0;\r\n            text-allow-overlap: false;\r\n            text-placement: point;\r\n            text-placement-type: simple;\r\n          }\r\n\r\n          #schlang_merge_05_04::labels [zoom >= 13]      {\r\n            text-name: [_plurnes]+\" \"+[_plurnes_qt];\r\n            text-face-name: 'Lato Bold';\r\n            text-size: 11;\r\n          }\r\n\r\n          #schlang_merge_05_04::labels [zoom >= 14]  {\r\n            text-name: [_plurnes]+\" \"+[_plurnes_qt];\r\n            text-face-name: 'Lato Bold';\r\n            text-size: 13;\r\n          }\r\n            #schlang_poly_v3_1::labels [_plurnes_qt < 9]{\r\n              text-name: [_plurnes_qt];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 0;\r\n              text-fill: #fff;\r\n              text-halo-radius: 0;\r\n            }\r\n            </style>  \r\n \r\n\r\n            <!-- Group selector section - to be broken out into new layer selector, with toggle/checkbox option  -->\r\n            <style type=\"cartocss/html\" id=\"bubble-chinese-grp\">   /** #ff0000 */\r\n            /** graduated lang code */   \r\n\r\n              #schlang_merge_05_04{\r\n              marker-fill-opacity: 0.0;\r\n              marker-line-color: #ff0000;\r\n              marker-line-width: 0;\r\n              marker-line-opacity: 0;\r\n              marker-placement: point;\r\n              marker-multi-policy: largest;\r\n              marker-type: ellipse;\r\n              marker-fill: #ff0000;\r\n              marker-allow-overlap: true;\r\n              marker-clip: false;\r\n              marker-comp-op: darken;\r\n            }\r\n\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 1600]  {\r\n               marker-width: 23.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 400] {\r\n               marker-width: 15.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 200] {\r\n               marker-width: 11.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 50] {\r\n               marker-width: 7.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _st_chi_qty < 10] {\r\n               marker-width: 5.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 5] {\r\n               marker-width: 0;\r\n               marker-fill-opacity: 0.0;\r\n               marker-line-width: 0;\r\n               marker-line-opacity: 0;\r\n            }\r\n\r\n\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 1600] [zoom >= 12] {marker-width: 34;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 400] [zoom >= 12] {marker-width: 23;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 200] [zoom >= 12] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 50] [zoom >= 12] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _st_chi_qty < 10] [zoom >= 12] {marker-width: 8;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 5] [zoom >= 12] {marker-width: 0;}\r\n\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 1600] [zoom >= 13] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 400] [zoom >= 13] {marker-width: 35;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 200] [zoom >= 13] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 50] [zoom >= 13] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _st_chi_qty < 10] [zoom >= 13] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 5] [zoom >= 13] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 1600] [zoom >= 14] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 400] [zoom >= 14] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 200] [zoom >= 14] {marker-width: 37;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 50] [zoom >= 14] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _st_chi_qty < 10] [zoom >= 14] {marker-width: 15;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 5] [zoom >= 14] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 1600] [zoom >= 15] {marker-width: 116;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 400] [zoom >= 15] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 200] [zoom >= 15] {marker-width: 56;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 50] [zoom >= 15] {marker-width: 38;}\r\n            #schlang_merge_05_04 [ _st_chi_qty < 10] [zoom >= 15] {marker-width: 21;}\r\n            #schlang_merge_05_04 [ _st_chi_qty <= 5] [zoom >= 15] {marker-width: 0.0;}\r\n\r\n\r\n\r\n            /** label size behavior at specific zoom levels for specific quantites */\r\n\r\n            /** label on at z13 */\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_st_chi_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_st_chi_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 8;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_st_chi_qty >= 10] {\r\n              text-name: [_st_chi_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF; \r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_st_chi_qty >= 50] {\r\n              text-name: [_st_chi_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF;              \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_st_chi_qty >= 400] {\r\n              text-name: [_st_chi_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_st_chi_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_st_chi_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 10;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_st_chi_qty >= 10] {\r\n              text-name: [_st_chi_qty];\r\n              text-fill: #FFFFFF; \r\n              text-size: 12;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_st_chi_qty >= 50] {\r\n              text-name: [_st_chi_qty];\r\n              text-size: 12;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_st_chi_qty >= 400] {\r\n              text-name: [_st_chi_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_st_chi_qty >= 10] {\r\n              text-name: [_st_chi_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 15;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF;\r\n              text-halo-fill: #000;\r\n              text-halo-radius: 0.4;\r\n              text-dy: 0;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_st_chi_qty >= 50] {\r\n              text-name: [_st_chi_qty];\r\n              text-size: 16;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_st_chi_qty >= 400] {\r\n              text-name: [_st_chi_qty];\r\n              text-size: 18;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n \r\n            </style>\r\n\r\n            <style type=\"cartocss/html\" id=\"bubble-s-asian-grp\">    /** #ffa500  */\r\n            /** graduated lang code */\r\n\r\n              #schlang_merge_05_04{\r\n              marker-fill-opacity: 0.0;\r\n              marker-line-color: #ffa500;\r\n              marker-line-width: 0;\r\n              marker-line-opacity: 0;\r\n              marker-placement: point;\r\n              marker-multi-policy: largest;\r\n              marker-type: ellipse;\r\n              marker-fill: #ffa500;\r\n              marker-allow-overlap: true;\r\n              marker-clip: false;\r\n              marker-comp-op: darken;\r\n            }\r\n\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 1600]  {\r\n               marker-width: 23.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 400] {\r\n               marker-width: 15.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 200] {\r\n               marker-width: 11.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 50] {\r\n               marker-width: 7.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _s_asia_qty < 10] {\r\n               marker-width: 5.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 5] {\r\n               marker-width: 0;\r\n               marker-fill-opacity: 0.0;\r\n               marker-line-width: 0;\r\n               marker-line-opacity: 0;\r\n            }\r\n\r\n\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 1600] [zoom >= 12] {marker-width: 34;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 400] [zoom >= 12] {marker-width: 23;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 200] [zoom >= 12] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 50] [zoom >= 12] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _s_asia_qty < 10] [zoom >= 12] {marker-width: 8;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 5] [zoom >= 12] {marker-width: 0;}\r\n\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 1600] [zoom >= 13] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 400] [zoom >= 13] {marker-width: 35;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 200] [zoom >= 13] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 50] [zoom >= 13] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _s_asia_qty < 10] [zoom >= 13] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 5] [zoom >= 13] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 1600] [zoom >= 14] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 400] [zoom >= 14] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 200] [zoom >= 14] {marker-width: 37;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 50] [zoom >= 14] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _s_asia_qty < 10] [zoom >= 14] {marker-width: 15;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 5] [zoom >= 14] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 1600] [zoom >= 15] {marker-width: 116;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 400] [zoom >= 15] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 200] [zoom >= 15] {marker-width: 56;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 50] [zoom >= 15] {marker-width: 38;}\r\n            #schlang_merge_05_04 [ _s_asia_qty < 10] [zoom >= 15] {marker-width: 21;}\r\n            #schlang_merge_05_04 [ _s_asia_qty <= 5] [zoom >= 15] {marker-width: 0.0;}\r\n\r\n\r\n\r\n            /** label size behavior at specific zoom levels for specific quantites */\r\n\r\n            /** label on at z13 */\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_s_asia_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_s_asia_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 8;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_s_asia_qty >= 10] {\r\n              text-name: [_s_asia_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF; \r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_s_asia_qty >= 50] {\r\n              text-name: [_s_asia_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF;              \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_s_asia_qty >= 400] {\r\n              text-name: [_s_asia_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_s_asia_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_s_asia_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 10;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_s_asia_qty >= 10] {\r\n              text-name: [_s_asia_qty];\r\n              text-fill: #FFFFFF; \r\n              text-size: 12;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_s_asia_qty >= 50] {\r\n              text-name: [_s_asia_qty];\r\n              text-size: 12;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_s_asia_qty >= 400] {\r\n              text-name: [_s_asia_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_s_asia_qty >= 10] {\r\n              text-name: [_s_asia_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 15;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF;\r\n              text-halo-fill: #000;\r\n              text-halo-radius: 0.4;\r\n              text-dy: 0;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_s_asia_qty >= 50] {\r\n              text-name: [_s_asia_qty];\r\n              text-size: 16;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_s_asia_qty >= 400] {\r\n              text-name: [_s_asia_qty];\r\n              text-size: 18;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n \r\n            </style>\r\n \r\n            <style type=\"cartocss/html\" id=\"bubble-e-eurs-grp\">   /** color: #0f3b82 */\r\n            /** graduated lang code */\r\n\r\n              #schlang_merge_05_04{\r\n              marker-fill-opacity: 0.0;\r\n              marker-line-color: #0f3b82;\r\n              marker-line-width: 0;\r\n              marker-line-opacity: 0;\r\n              marker-placement: point;\r\n              marker-multi-policy: largest;\r\n              marker-type: ellipse;\r\n              marker-fill: #0f3b82;\r\n              marker-allow-overlap: true;\r\n              marker-clip: false;\r\n              marker-comp-op: darken;\r\n            }\r\n\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 1600]  {\r\n               marker-width: 23.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 400] {\r\n               marker-width: 15.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 200] {\r\n               marker-width: 11.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 50] {\r\n               marker-width: 7.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _e_eurs_qty < 10] {\r\n               marker-width: 5.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 5] {\r\n               marker-width: 0;\r\n               marker-fill-opacity: 0.0;\r\n               marker-line-width: 0;\r\n               marker-line-opacity: 0;\r\n            }\r\n\r\n\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 1600] [zoom >= 12] {marker-width: 34;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 400] [zoom >= 12] {marker-width: 23;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 200] [zoom >= 12] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 50] [zoom >= 12] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty < 10] [zoom >= 12] {marker-width: 8;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 5] [zoom >= 12] {marker-width: 0;}\r\n\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 1600] [zoom >= 13] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 400] [zoom >= 13] {marker-width: 35;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 200] [zoom >= 13] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 50] [zoom >= 13] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty < 10] [zoom >= 13] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 5] [zoom >= 13] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 1600] [zoom >= 14] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 400] [zoom >= 14] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 200] [zoom >= 14] {marker-width: 37;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 50] [zoom >= 14] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty < 10] [zoom >= 14] {marker-width: 15;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 5] [zoom >= 14] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 1600] [zoom >= 15] {marker-width: 116;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 400] [zoom >= 15] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 200] [zoom >= 15] {marker-width: 56;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 50] [zoom >= 15] {marker-width: 38;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty < 10] [zoom >= 15] {marker-width: 21;}\r\n            #schlang_merge_05_04 [ _e_eurs_qty <= 5] [zoom >= 15] {marker-width: 0.0;}\r\n\r\n\r\n\r\n            /** label size behavior at specific zoom levels for specific quantites */\r\n\r\n            /** label on at z13 */\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_e_eurs_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_e_eurs_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 8;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_e_eurs_qty >= 10] {\r\n              text-name: [_e_eurs_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF; \r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_e_eurs_qty >= 50] {\r\n              text-name: [_e_eurs_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF;              \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_e_eurs_qty >= 400] {\r\n              text-name: [_e_eurs_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_e_eurs_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_e_eurs_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 10;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_e_eurs_qty >= 10] {\r\n              text-name: [_e_eurs_qty];\r\n              text-fill: #FFFFFF; \r\n              text-size: 12;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_e_eurs_qty >= 50] {\r\n              text-name: [_e_eurs_qty];\r\n              text-size: 12;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_e_eurs_qty >= 400] {\r\n              text-name: [_e_eurs_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_e_eurs_qty >= 10] {\r\n              text-name: [_e_eurs_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 15;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF;\r\n              text-halo-fill: #000;\r\n              text-halo-radius: 0.4;\r\n              text-dy: 0;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_e_eurs_qty >= 50] {\r\n              text-name: [_e_eurs_qty];\r\n              text-size: 16;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_e_eurs_qty >= 400] {\r\n              text-name: [_e_eurs_qty];\r\n              text-size: 18;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n \r\n            </style>\r\n \r\n            <style type=\"cartocss/html\" id=\"bubble_mus4_grp\">    /** #229a00 */\r\n            /** graduated lang code */\r\n\r\n              #schlang_merge_05_04{\r\n              marker-fill-opacity: 0.0;\r\n              marker-line-color: #229a00;\r\n              marker-line-width: 0;\r\n              marker-line-opacity: 0;\r\n              marker-placement: point;\r\n              marker-multi-policy: largest;\r\n              marker-type: ellipse;\r\n              marker-fill: #229a00;\r\n              marker-allow-overlap: true;\r\n              marker-clip: false;\r\n              marker-comp-op: darken;\r\n            }\r\n\r\n            #schlang_merge_05_04 [ _mus4_qty <= 1600]  {\r\n               marker-width: 23.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _mus4_qty <= 400] {\r\n               marker-width: 15.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _mus4_qty <= 200] {\r\n               marker-width: 11.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _mus4_qty <= 50] {\r\n               marker-width: 7.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _mus4_qty < 10] {\r\n               marker-width: 5.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _mus4_qty <= 5] {\r\n               marker-width: 0;\r\n               marker-fill-opacity: 0.0;\r\n               marker-line-width: 0;\r\n               marker-line-opacity: 0;\r\n            }\r\n\r\n\r\n            #schlang_merge_05_04 [ _mus4_qty <= 1600] [zoom >= 12] {marker-width: 34;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 400] [zoom >= 12] {marker-width: 23;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 200] [zoom >= 12] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 50] [zoom >= 12] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _mus4_qty < 10] [zoom >= 12] {marker-width: 8;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 5] [zoom >= 12] {marker-width: 0;}\r\n\r\n            #schlang_merge_05_04 [ _mus4_qty <= 1600] [zoom >= 13] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 400] [zoom >= 13] {marker-width: 35;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 200] [zoom >= 13] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 50] [zoom >= 13] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _mus4_qty < 10] [zoom >= 13] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 5] [zoom >= 13] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _mus4_qty <= 1600] [zoom >= 14] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 400] [zoom >= 14] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 200] [zoom >= 14] {marker-width: 37;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 50] [zoom >= 14] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _mus4_qty < 10] [zoom >= 14] {marker-width: 15;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 5] [zoom >= 14] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _mus4_qty <= 1600] [zoom >= 15] {marker-width: 116;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 400] [zoom >= 15] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 200] [zoom >= 15] {marker-width: 56;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 50] [zoom >= 15] {marker-width: 38;}\r\n            #schlang_merge_05_04 [ _mus4_qty < 10] [zoom >= 15] {marker-width: 21;}\r\n            #schlang_merge_05_04 [ _mus4_qty <= 5] [zoom >= 15] {marker-width: 0.0;}\r\n\r\n\r\n\r\n            /** label size behavior at specific zoom levels for specific quantites */\r\n\r\n            /** label on at z13 */\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_mus4_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_mus4_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 8;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_mus4_qty >= 10] {\r\n              text-name: [_mus4_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF; \r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_mus4_qty >= 50] {\r\n              text-name: [_mus4_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF;              \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_mus4_qty >= 400] {\r\n              text-name: [_mus4_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_mus4_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_mus4_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 10;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_mus4_qty >= 10] {\r\n              text-name: [_mus4_qty];\r\n              text-fill: #FFFFFF; \r\n              text-size: 12;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_mus4_qty >= 50] {\r\n              text-name: [_mus4_qty];\r\n              text-size: 12;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_mus4_qty >= 400] {\r\n              text-name: [_mus4_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_mus4_qty >= 10] {\r\n              text-name: [_mus4_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 15;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF;\r\n              text-halo-fill: #000;\r\n              text-halo-radius: 0.4;\r\n              text-dy: 0;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_mus4_qty >= 50] {\r\n              text-name: [_mus4_qty];\r\n              text-size: 16;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_mus4_qty >= 400] {\r\n              text-name: [_mus4_qty];\r\n              text-size: 18;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n \r\n            </style>\r\n \r\n            <style type=\"cartocss/html\" id=\"bubble-fr-sum-grp\">\r\n            /** graduated lang code */\r\n\r\n              #schlang_merge_05_04{\r\n              marker-fill-opacity: 0.0;\r\n              marker-line-color: #A53ED5;\r\n              marker-line-width: 0;\r\n              marker-line-opacity: 0;\r\n              marker-placement: point;\r\n              marker-multi-policy: largest;\r\n              marker-type: ellipse;\r\n              marker-fill: #A53ED5;\r\n              marker-allow-overlap: true;\r\n              marker-clip: false;\r\n              marker-comp-op: darken;\r\n            }\r\n\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 1600]  {\r\n               marker-width: 23.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 400] {\r\n               marker-width: 15.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 200] {\r\n               marker-width: 11.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 50] {\r\n               marker-width: 7.5;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _fr_sum_qty < 10] {\r\n               marker-width: 5.0;\r\n               marker-fill-opacity: 0.8;\r\n               marker-line-width: 1.5;\r\n               marker-line-opacity: 1;\r\n            }\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 5] {\r\n               marker-width: 0;\r\n               marker-fill-opacity: 0.0;\r\n               marker-line-width: 0;\r\n               marker-line-opacity: 0;\r\n            }\r\n\r\n\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 1600] [zoom >= 12] {marker-width: 34;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 400] [zoom >= 12] {marker-width: 23;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 200] [zoom >= 12] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 50] [zoom >= 12] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty < 10] [zoom >= 12] {marker-width: 8;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 5] [zoom >= 12] {marker-width: 0;}\r\n\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 1600] [zoom >= 13] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 400] [zoom >= 13] {marker-width: 35;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 200] [zoom >= 13] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 50] [zoom >= 13] {marker-width: 17;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty < 10] [zoom >= 13] {marker-width: 11;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 5] [zoom >= 13] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 1600] [zoom >= 14] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 400] [zoom >= 14] {marker-width: 52;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 200] [zoom >= 14] {marker-width: 37;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 50] [zoom >= 14] {marker-width: 25;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty < 10] [zoom >= 14] {marker-width: 15;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 5] [zoom >= 14] {marker-width: 0.0;}\r\n\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 1600] [zoom >= 15] {marker-width: 116;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 400] [zoom >= 15] {marker-width: 78;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 200] [zoom >= 15] {marker-width: 56;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 50] [zoom >= 15] {marker-width: 38;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty < 10] [zoom >= 15] {marker-width: 21;}\r\n            #schlang_merge_05_04 [ _fr_sum_qty <= 5] [zoom >= 15] {marker-width: 0.0;}\r\n\r\n\r\n\r\n            /** label size behavior at specific zoom levels for specific quantites */\r\n\r\n            /** label on at z13 */\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_fr_sum_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_fr_sum_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 8;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_fr_sum_qty >= 10] {\r\n              text-name: [_fr_sum_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF; \r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_fr_sum_qty >= 50] {\r\n              text-name: [_fr_sum_qty];\r\n              text-size: 11;\r\n              text-fill: #FFFFFF;              \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 13] [_fr_sum_qty >= 400] {\r\n              text-name: [_fr_sum_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_fr_sum_qty > 5] {  /** label size for single-digit values */\r\n              text-name: [_fr_sum_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 10;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF; \r\n              text-halo-fill: #000000;\r\n              text-halo-radius: 0.1;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_fr_sum_qty >= 10] {\r\n              text-name: [_fr_sum_qty];\r\n              text-fill: #FFFFFF; \r\n              text-size: 12;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_fr_sum_qty >= 50] {\r\n              text-name: [_fr_sum_qty];\r\n              text-size: 12;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.2;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 14] [_fr_sum_qty >= 400] {\r\n              text-name: [_fr_sum_qty];\r\n              text-size: 15;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_fr_sum_qty >= 10] {\r\n              text-name: [_fr_sum_qty];\r\n              text-face-name: 'Lato Bold';\r\n              text-size: 15;\r\n              text-wrap-before: true;\r\n              text-wrap-width: 20;\r\n              text-label-position-tolerance: 10;\r\n              text-fill: #FFFFFF;\r\n              text-halo-fill: #000;\r\n              text-halo-radius: 0.4;\r\n              text-dy: 0;\r\n              text-allow-overlap: true;\r\n              text-placement: point;\r\n              text-placement-type: simple;\r\n            }\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_fr_sum_qty >= 50] {\r\n              text-name: [_fr_sum_qty];\r\n              text-size: 16;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n\r\n            #schlang_merge_05_04::labels [zoom >= 15] [_fr_sum_qty >= 400] {\r\n              text-name: [_fr_sum_qty];\r\n              text-size: 18;\r\n              text-fill: #FFFFFF; \r\n              text-halo-radius: 0.4;\r\n            }\r\n \r\n            </style>\r\n    </head>\r\n    <body>\r\n        <div id=\"map\"></div>\r\n \r\n        <div id=\"cartocss\" class=\"layer_selector\">\r\n            <p>Plurality Selectors</p>\r\n            <ul>\r\n                <li data=\"_plura\" data-type=\"cartocss\">Plurality language\r\n                </li>\r\n                <li data=\"_plurne_grp\" data-type=\"cartocss\">... excluding English\r\n                </li>\r\n                <li data=\"_plurnes_gr\" data-type=\"cartocss\">... excluding English & Spanish\r\n                </li> \r\n                <li data=\"simple\" data-type=\"cartocss\">Reset\r\n                </li>\r\n                <li> </li>\r\n            </ul>\r\n            \r\n            <p>Group Selectors </p>  <!-- WANT : toggle on/off layers -->\r\n            <ul>\r\n                <li data=\"bubble-chinese-grp\" data-type=\"cartocss\">Group: Sino-Tibetan:Chinese\r\n                </li>\r\n                <li data=\"bubble-s-asian-grp\" data-type=\"cartocss\">Group: South Asian\r\n                </li>\r\n                <li data=\"bubble-e-eurs-grp\" data-type=\"cartocss\">Group: Europe - Slavic & Uralic\r\n                </li>\r\n                <li data=\"bubble_mus4_grp\" data-type=\"cartocss\">Group: Muslim Languages\r\n                </li>\r\n                <li data=\"bubble-fr-sum-grp\" data-type=\"cartocss\">Group: French & Haitian Creole\r\n                </li>\r\n \r\n                <li data=\"simple\" data-type=\"cartocss\">Reset\r\n                </li>\r\n            </ul>\r\n        </div> \r\n \r\n         <div id=\"sql\" class=\"layer_selector\">\r\n            <p>(SQL) Filter data by: </p>\r\n            <ul>\r\n                <li data=\" WHERE _non_en_pct > 0.25\" data-type=\"sql\"> Non-English > 25%\r\n                </li>\r\n                <li data=\" WHERE _non_en_pct > 0.50\" data-type=\"sql\"> Non-English > 50%\r\n                </li>\r\n                <li data=\" WHERE _non_en_pct > 0.75\" data-type=\"sql\"> Non-English > 75%\r\n                </li>\r\n                <li data=\" WHERE _nonensp_pt > 0.10\" data-type=\"sql\"> Non-English, Non-Span > 10%\r\n                </li>\r\n                <li data=\" WHERE _nonensp_pt > 0.25\" data-type=\"sql\"> Non-English, Non-Span > 25%\r\n                </li>\r\n                <li data=\" WHERE _nonensp_pt > 0.50\" data-type=\"sql\"> Non-English, Non-Span > 50%\r\n                </li>\r\n                <li data=\"\" data-type=\"sql\">Reset</li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div id=\"my-legend\" class='my-legend'>\r\n        <div class='legend-title'>Plurality Language Groups: </div>\r\n        <div class='legend-scale'>\r\n          <ul class='legend-labels'>\r\n            <li><span style='background:#ff0000;'></span>Sino-Tibetan: Chinese</li>\r\n            <li><span style='background:#ffa500;'></span>South Asian</li>\r\n            <li><span style='background:#fb9a99;'></span>Other E & SE Asian</li>\r\n            <li><span style='background:#49db40;'></span>Afro-Asiatic: Semitic</li>\r\n            <li><span style='background:#136400;'></span>Niger-Congo: Atlantic-Congo</li>\r\n            <li><span style='background:#229A00;'></span>Niger-Congo: Mande</li>\r\n            <li><span style='background:#A53ED5;'></span>French Creoles</li>\r\n            <li><span style='background:#0000a0;'></span>Indo-Eur: Balto-Slavic</li>\r\n            <li><span style='background:#5CA2D1;'></span>Indo-Eur: Romance & Germanic</li>\r\n            <li><span style='background:#00ceff;'></span>Uralic & Other European</li>\r\n            <li><span style='background:#DDDDDD;'></span>English & other</li>\r\n          </ul>\r\n        </div>\r\n        </div>\r\n\r\n        <!-- include cartodb.js library -->\r\n        <script src=\"http://libs.cartocdn.com/cartodb.js/v3/3.13/cartodb.js\" type=\"text/javascript\"></script> \r\n \r\n        <!-- <script src=\"http://libs.cartocdn.com/cartodb.js/v3/3.11/cartodb.js\"></script>  --> \r\n \r\n        <!--[if lte IE 8]>\r\n        <link rel=\"stylesheet\" href=\"http://libs.cartocdn.com/cartodb.js/v2/themes/css/cartodb.ie.css\" />\r\n        <![endif]-->\r\n \r\n        <!-- Place your code in the script tags below -->\r\n        <script type=\"infowindow/html\" id=\"infowindow_template\">\r\n          <div class=\"cartodb-popup dark v2\">\r\n            <a href=\"#close\" class=\"cartodb-popup-close-button close\">x</a>\r\n             <div class=\"cartodb-popup-content-wrapper\">\r\n               <div class=\"cartodb-popup-header\">\r\n               </div>\r\n               <div class=\"cartodb-popup-content\">\r\n               \r\n                  <h4>school:</h4>\r\n                  <p>Name: {{sch_name}}</p>\r\n                  <p>Code: {{school}}</p>\r\n                  <p>{{sch_addr}}, {{sch_zip}}</p>\r\n                  <p>Type: {{sch_type}} </P>\r\n                  <p>Principal: {{sch_pcpl}}, {{sch_pcpl_ph}}\r\n\r\n                  <p>Total students: {{_total}}</p>\r\n                  <hr>\r\n\r\n                  <h4>Language plurality </h4>\r\n                  <p>{{_plura}}</p>\r\n                  <p>Quantity: {{_plura_qt}}</p>\r\n                  <p>Percent: {{_plura_pcta}}</p>\r\n                  <p>Grouping/Family:  {{_plura_grp}} </p>\r\n                  <hr>\r\n\r\n                  <h4>Non-English (NE) stats</h4>\r\n                  <p>Sum of all NE: {{_non_en_qty}}</p>\r\n                  <p>Perecent NE: {{_non_en_pct}}</p>\r\n                  <p>Top NE language: {{_plurne}}</p>\r\n                  <p> (number of ties: {{_p_ne_tie}}, {{_p_ne_ti_n}} )</p>\r\n                  <p>Quantity, this language: {{_plurne_qty}} </p>\r\n                  <p>Percent of total, this language: {{_plurne_pct}} </p>\r\n                  <p>Grouping/Family: {{_plurne_grp}}</p>\r\n\r\n                  <hr>\r\n\r\n                  <h4>Non-English, Non-Spanish (NES) stats</h4>\r\n                  <p>Sum of NES: {{_nonensp_qy}}</p>\r\n                  <p>Percent NES: {{_nonensp_pt}}</p>\r\n                  <p>Top NES language: {{_plurnes}}</p>\r\n                  <p> (number of ties: {{_p_nes_ti}},  {{_p_nes_ti_n}} )</p>\r\n                  <p>Qty, this language: {{_plurnes_qt}}</p>\r\n                  <p>Percent of total, this langauge: {{_plurnes_pc}} </p>\r\n                  <p>Percentage of the NES remainder that this language occupies: {{_plurnes_pb}} </p>\r\n                  <p>Grouping/Family: {{_plurnes_gr}}</p>\r\n                  <hr>\r\n\r\n                  <h4>Language Grouping/Family stats: </h4>\r\n                  <ul> <p> ** Note: values of 0 appear as blanks </p>\r\n                    <li><p> Afro-Asiatic: Qty: {{_aa_all_qty}}, Pct: {{_aa_all_pct}} </li>\r\n                    <li><p> Niger-Congo, Atlantic-Congo, Qty: {{_nc_ac_qty}}, Pct: {{_nc_ac_pct}} </li>\r\n                    <li><p> Niger-Congo, Mande, Qty: {{_nc_m_qty}}, Pct: {{_nc_m_pct}} </li>\r\n\r\n                    <li><p> Asian, Chinese: Qty: {{_st_chi_qty}}, Pct: {{_st_chi_pct}} </li>\r\n                    <li><p> Asian, South: Qty: {{_s_asia_qty}}, Pct: {{_s_asia_pct}} </li>\r\n                    <li><p> Asian, Southeast & East (incl Korean, Japanese): Qty: {{_as_se_qty}}  , Pct: {{_as_se_pct}} </li>\r\n                    <li><p> Malayo-Polynesian: Qty: {{_au_mp_qty}}, Pct: {{_au_mp_pct}} </li>\r\n                    <li><p>\r\n\r\n                 </ul>\r\n\r\n                  <h4>others to add later</h4>\r\n\r\n                  <h4>_e_eurs_pct</h4>\r\n                  <p>{{_e_eurs_pct}}</p>\r\n                  <h4>_e_eurs_qty</h4>\r\n                  <p>{{_e_eurs_qty}}</p>\r\n                  <h4>_fr_sum_pct</h4>\r\n                  <p>{{_fr_sum_pct}}</p>\r\n                  <h4>_fr_sum_qty</h4>\r\n                  <p>{{_fr_sum_qty}}</p>\r\n                  <h4>_ie_big_pct</h4>\r\n                  <p>{{_ie_big_pct}}</p>\r\n                  <h4>_ie_big_qty</h4>\r\n                  <p>{{_ie_big_qty}}</p>\r\n                  <h4>_ie_ia_pct</h4>\r\n                  <p>{{_ie_ia_pct}}</p>\r\n                  <h4>_ie_ia_qty</h4>\r\n                  <p>{{_ie_ia_qty}}</p>\r\n                  <h4>_ie_ir_pct</h4>\r\n                  <p>{{_ie_ir_pct}}</p>\r\n                  <h4>_ie_ir_qt</h4>\r\n                  <p>{{_ie_ir_qt}}</p>\r\n                  <h4>_mus4_pct</h4>\r\n                  <p>{{_mus4_pct}}</p>\r\n                  <h4>_mus4_qty</h4>\r\n                  <p>{{_mus4_qty}}</p>\r\n\r\n                  <h4>_turk_pct</h4>\r\n                  <p>{{_turk_pct}}</p>\r\n                  <h4>_turk_qty</h4>\r\n                  <p>{{_turk_qty}}</p>\r\n\r\n\r\n               </div>\r\n             </div>\r\n             <div class=\"cartodb-popup-tip-container\"></div>\r\n           </div>\r\n        </script> \r\n\r\n        <script type=\"text/javascript\">\r\n            window.onload = function () {\r\n\r\n            // Create layer selector\r\n            function createSelector(layer) {\r\n                var condition = \"\"; // SQL or CartoCSS string\r\n                var $options = $(\".layer_selector\").find(\"li\");\r\n                $options.click(function(e) {\r\n                    var $li = $(e.target);\r\n                    var selected = $li.attr('data');\r\n                    var type = $li.data('type'); // 'sql' or 'cartocss'\r\n\r\n                    if (type === \"cartocss\") { // if a CartoCSS selector is chosen, set the style\r\n                        $options.removeClass('cartocss_selected');\r\n                        if (selected !== \"simple\") {\r\n                            $li.addClass('cartocss_selected');                            \r\n                        }\r\n                        condition = $('#'+selected).text();\r\n                        layer.setCartoCSS(condition);\r\n\r\n                    } else { // if a SQL selector is chosen, re-query the data\r\n                        $options.removeClass('sql_selected');\r\n                        if (selected !== \"\") {\r\n                            $li.addClass('sql_selected');\r\n                        }\r\n                        layer.setSQL(\"SELECT * FROM \" + tableName + selected);\r\n                    }\r\n                });\r\n            }\r\n\r\n                var tableName = \"schlang_merge_05_04\";\r\n\r\n                // Put layer data into a JS object\r\n                var layerSource = {\r\n                        user_name: 'andrewmartini', \r\n                        type: 'cartodb',\r\n                        sublayers: [{ \r\n                            sql: \"SELECT * FROM \" + tableName, // SQL Filter\r\n                            cartocss: $(\"#simple\").text(), // Simple visualization\r\n                            interactivity: \"cartodb_id\"\r\n                        }]\r\n                    }\r\n\r\n                // For storing the sublayer\r\n                var sublayer;\r\n\r\n                // Instantiate new map object, place it in 'map' element\r\n                var map_object = new L.Map('map', {\r\n                    center: [40.7033127,-73.979681], // New York, NY\r\n                    zoom: 11,\r\n                    maxZoom: 16,\r\n                    minZoom: 10\r\n                });\r\n\r\n                L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {\r\n                    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                }).addTo(map_object);\r\n\r\n\r\n                // Add data layer to your map\r\n                cartodb.createLayer(map_object,layerSource)\r\n                    .addTo(map_object)\r\n                    .done(function(layer) {\r\n                        // Activate desired data columns here to display in popup content\r\n                         var infowindow = cdb.vis.Vis.addInfowindow(map_object, layer.getSubLayer(0), ['_plura', '_plura_pcta', '_plura_grp', '_plura_qt', '_total', '_plurne', '_plurnes', '_plurne_qty', '_plurne_grp', '_plurne_pct', '_plurnes', '_nonensp_qy', '_nonensp_pt', '_non_en_qty', '_non_en_pct', '_plurnes_gr', 'school', '_plurnes_qt','_plurnes_pc', '_plurnes_pb', '_aa_all_qty', '_aa_all_pct', '_as_se_qty', '_as_se_pct', '_nc_ac_qty', '_nc_ac_pct', '_nc_m_qty', '_nc_m_pct', '_st_chi_qty', '_st_chi_pct', '_au_mp_qty', '_au_mp_pct', '_s_asia_qty', '_s_asia_pct', 'sch_name', 'sch_addr', 'sch_zip', 'sch_pcpl', 'sch_pcpl_ph', 'sch_type', '_p_ne_tie', '_p_ne_ti_n', '_p_nes_ti', '_p_nes_ti_n' ])\r\n                         infowindow.model.set('template', $('#infowindow_template').html());\r\n\r\n                        sublayer = layer.getSubLayer(0);\r\n                        createSelector(sublayer);\r\n                    })\r\n                    .error(function(err) {\r\n                        console.log(\"error: \" + err);\r\n                    });\r\n            }\r\n\r\n        </script>\r\n    </body>\r\n</html>\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}